{% extends "layout.html" %}
{% block title %}Result{% endblock %}

{% block hero %}

  {% if canADSL and canFibre %}
    <img src="/static/house_telegraph_pole_fibre.svg" style="max-width: 500px; width:75%;" />

    <h1 style="color:white" class="title is-1 is-size-3-mobile">Great News!</h1>
    <h2 style="color:white" class="subtitle is-3 is-size-5-mobile">We can provide the following service(s) to your property:</h2>

    {% elif canADSL  %}

      <img src="/static/house_telegraph_pole.svg" style="max-width: 500px; width:75%;" />
      <h1 style="color:white" class="title is-1 is-size-3-mobile">Good News!</h1>
      <h2 style="color:white" class="subtitle is-3 is-size-5-mobile">We're able to provide standard broadband to your property.</h2>

      <br />

      {% else %}
        <img src="/static/house_telegraph_pole_fibre.svg" style="max-width: 500px; width:75%;" />

        <h1 style="color:white" class="title is-1 is-size-3-mobile">Let's get started!</h1>
        <h2 style="color:white" class="subtitle is-3 is-size-5-mobile">Choose your package</h2>

  {% endif %}

  <div class="pricing-table is-horizontal" style="max-width:1000px; margin:auto">

      <div class="pricing-plan">
        <div class="plan-header" style="color:#8dc047"><img src="/static/speedo_adsl.svg" style="width:50%;display:block; margin:auto"/>Standard (ADSL)</div>
        <div class="plan-items">
          <div class="plan-item">Download speed up to {{ result['WBC ADSL 2+']['Downstream'] or 24 }}Mbps</div>
          <div class="plan-item">Upload speed up to 2Mbps</div>
          <div class="plan-item">Unlimited Usage</div>
          {% if  nophone is sameas false %}
            <div class="plan-item">Unlimited 01, 02, 03 Calls</div>
          {% else %}
            <div class="plan-item">One <em>fixed</em> price</em></div>
          {% endif %}
          <div class="plan-item">Friendly UK Support</div>
          <div class="plan-item">Only 3 Month Minimum Term</div>
        </div>
        <div class="plan-footer">
          <div class="plan-price" style="padding-bottom:0;"><span style="color:#8dc047" class="plan-price-amount"><span class="plan-price-currency">&pound;</span>31.99</span>/month</div>
          <small style="margin-bottom:1rem;">Upfront cost: &pound;29.99</small>
          <a href="/new_customer?plan=adsl" style="background-color:#8dc047" class="button is-fullwidth is-info">Continue</a>
        </div>
      </div>

    {# 
      Show fibre packages even if address lookup failed.
      If we know explicitly fibre wasn't available we don't 
      show fibre as option.
    #}
    {% if canFibre or canADSL != True %}

      <div class="pricing-plan">
        <div class="plan-header" style="color:#db802d"><img src="/static/speedo_fibre40.svg" style="width:50%;display:block; margin:auto"/>Fibre</div>
        <div class="plan-items">
          <div class="plan-item">Super fast up to 40Mbps</div>
          <div class="plan-item">Quick uploads up to 10Mbps</div>
          <div class="plan-item">Unlimited Usage</div>
          {% if  nophone is sameas false %}
            <div class="plan-item">Unlimited 01, 02, 03 Calls</div>
          {% else %}
            <div class="plan-item">One <em>fixed</em> price</em></div>
          {% endif %}
          <div class="plan-item">Friendly UK Support</div>
          <div class="plan-item">12 Month Minimum Term</div>
        </div>
        <div class="plan-footer">
          <div class="plan-price" style="padding-bottom:0;"><span style="color:#db802d" class="plan-price-amount"><span class="plan-price-currency">&pound;</span>38.20</span>/month</div>
          <small style="margin-bottom:1rem;">Upfront cost: &pound;35.40</small>
          <a href="/new_customer?plan=fibre" style="background-color:#db802d" class="button is-fullwidth is-info">Continue</a>
        </div>
      </div>

      <div class="pricing-plan">
        <div class="plan-header" style="color:#e73b1a"><img src="/static/speedo_fibre80.svg" style="width:50%;display:block; margin:auto"/><span>Fibre <i><b>Plus</b></i></span></div>
        <div class="plan-items">
          <div class="plan-item">Blazing fast up to {{ result['VDSL Range A']['Downstream']['high'] or 80 }}Mbps</div>
          <div class="plan-item">Speedy uploads up to {{ result['VDSL Range A']['Upstream']['high'] or 20 }}Mbps</div>
          <div class="plan-item">Unlimited Usage</div>
          {% if  nophone is sameas false %}
            <div class="plan-item">Unlimited 01, 02, 03 Calls</div>
          {% else %}
            <div class="plan-item">One <em>fixed</em> price</em></div>
          {% endif %}
          <div class="plan-item">Friendly UK Support</div>
          <div class="plan-item">12 Month Minimum Term</div>
        </div>
        <div class="plan-footer">
          <div class="plan-price" style="padding-bottom:0;"><span style="color:#e73b1a" class="plan-price-amount"><span class="plan-price-currency">&pound;</span>40.86</span>/month</div>
          <small style="margin-bottom:1rem;">Upfront cost: &pound;39.60</small>
          <a href="/new_customer?plan=fibre_plus" style="background-color:#e73b1a" class="button is-fullwidth is-info">Continue</a>
        </div>
      </div>
     {% endif %}
  </div>
  <br />
  <p class="has-text-centered has-text-white">These results were generated at: {{ now }} for: {{ buildingnumber }} {{ streetname }}, {{ postCode }}.</p>

{% endblock %}

{% block body %}

<script>
  localStorage.setItem('buildingnumber', '{{ buildingnumber }}');
  localStorage.setItem('postCode', '{{ postCode }}');
</script>


{% if canADSL %}

<div class="section">
  <div class="container">

    <div class="columns" style="-webkit-box-align: center; -ms-flex-align: center; align-items: center;">
      <div class="column">
        <h3 class="title is-3">What can I do on ADSL?</h3>
        <p class="has-text-left">ADSL provides download speeds of up to 24Mbps, so it's more than capable of browsing the <strong>web</strong>, <strong>online shopping</strong>, updating &amp; browsing&nbsp;<strong>social media</strong>,&nbsp;<strong>streaming TV</strong>, <strong>movies</strong> &amp; <strong>music</strong> for up to <strong>8 people</strong> at once. Available to over 90% of UK households and premises, the speed you'll be able to receive depends on how far away your house is from either the cabinet or telephone exchange.&nbsp;</p>
      </div>
      <div class="column">
        <img src="/static/adsl.svg" style="max-height:300px">
      </div>
    </div>

  </div>
</div>

  {% if canFibre %}

    <div class="section">
      <div class="container">

        <div class="columns" style="-webkit-box-align: center; -ms-flex-align: center; align-items: center;">
          <div class="column">
            <h3 class="title is-3">What can I do on Fibre and Fibre Plus?</h3>
            <p class="has-text-left">In addition to all the benefits ADSL brings, Fibre allows for much faster upload and download speeds. With this brings enhanced streaming of <strong>HD content</strong>, <strong>online gaming</strong> &amp; <strong>remote capabilities</strong>. Available to ~80% of UK households and premises, the speeds offered can support <strong>up to 20 users </strong>at the same time. Again, your speeds will depend on how far away from the cabinet or telephone exchange you are.</p>
          </div>
          <div class="column">
            <img src="/static/fibre.svg" style="max-height:300px">
          </div>
        </div>

      </div>
    </div>

  {% else %}

    <div class="section">
      <div class="container">

        <h3 class="title is-3">It's OK! Fibre isn't available in your area yet.</h3>
        <p class="has-text-left">Our checker couldn't find Fibre for your address, but don't worry. For many peopl ADSL (Standard) broadband is perfectly fast enough. For example the BBC states that "BBC iPlayer programmes stream at up to 2.8 Mbps" and recommends a speed slightly above that, so 17Mb ADSL broadband is more than enough!</p>

      </div>
    </div>

  {% endif %}

{% else %}

  <div class="section">
    <div class="container">

      <h3 class="title is-3">If you need an installation, we'll handle it all for you</h3>
      <p class="has-text-left">Thanks for giving us your address, we'll contact you after you complete your order. Some buildings need
          an installation visit before you can get online. If an install is needed, the minimum contract length is 24 months, but we cover
          the install cost for you in return so it's fair!</p>
    </div>
  </div>

{% endif %}

<div class="kcBlue has-text-white">
  <div class="section">
      <div class="container">
          {% if canFibre or canADSL %}
          <h3 class="title is-4 has-text-white">About these results</h3>
          <p class="has-text-left">We generated these results based on your line, we're upfront in that respect as there's nothing worse than signing up for a super fast package just to find you actually receive not even a tenth of the advertised speed. The speeds reported are based on <a href="http://dslchecker.bt.com" class="has-text-white" target="_blank">OpenReach's network prediction</a>, like all predictions they are not always 100% accurate. When processing your order we will again check your line to see if you're able to receive a good service and contact you if we think there may a problem preventing your order.<br /></p>
          {% endif %}
    </div>
  </div>
</div>

  <script>
    $('.pricing-plan').hover(
         function(){ $(this).addClass('is-active') },
         function(){ $(this).removeClass('is-active') }
  )
  </script>

{% endblock %}
